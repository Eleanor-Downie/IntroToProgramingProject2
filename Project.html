<!DOCTYPE html>
<!-- Eleanor J. Downie
     october 22, 2014
     Introduction to Programming
     Project 3- Game v0.4 -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
      <meta name="author"             content="Eleanor J. Downie" />
   <title>
      Space: The Final Frontier
   </title>
   <style> 
      .title {font: sans-serif; font-size: xx-large; font-weight: bold;}
   </style>   
   <script>
      //Global Variables
      var currLoc = 0;  
      var score = 0; 
      
      //Variables for Scorekeeping
      var visited_0 = false;
      var visited_1 = false;
      var visited_2 = false;
      var visited_3 = false;
      var visited_4 = false;
      var visited_5 = false;

      //Initialization
      function init(){
         look();
      }

      //Directional Functions
      function goNorth(){                
         if(currLoc===3){
            currLoc=0;
            look();
         } else {
           if(currLoc===0){
              currLoc = 1;
              look();
           } else {
             if(currLoc===5){
                currLoc = 4;
                look();
             } else {
              navigationError();
             }
           }
         }
      }

      function goSouth(){                
         if(currLoc===1){
            currLoc=0;
            look();
         } else {
           if(currLoc===0){
              currLoc = 3;
              look();
           } else {
             if(currLoc===4){
                currLoc = 5;
                look();
             } else {
              navigationError();
             }
           }
         }
      }

      function goEast(){                
         if(currLoc===2){
            currLoc=0;
            look();
         } else {
           if(currLoc===0){
              currLoc = 4;
              look();
           } else {
             if(currLoc===3){
                currLoc = 5;
                look();
             } else {
              navigationError();
             }
           }
         }
      }

      function goWest(){                
         if(currLoc===4){
            currLoc=0;
            look();
         } else {
           if(currLoc===0){
              currLoc = 2;
              look();
           } else {
             if(currLoc===5){
                currLoc = 3;
                look();
             } else {
              navigationError();
             }
           }
         }
      }

     //Commandbox Directional Functions
     function btnGo_click(){
        var userDirection = document.getElementById("txtCommand").value;
        userDirection = userDirection.toUpperCase();
        switch(userDirection){
        case 'N': goNorth();
             break;
        case 'S': goSouth();
             break;
        case 'E': goEast();
             break;
        case 'W': goWest();
             break;  
        case 'Help': dispmsg("You cannot use that command. You may only use: N, S, E, or W.");
             break;
        default: dispmsg("You cannot use that command. You may only use: N, S, E, or W.");
        }   
      }

      //Story Functions
      function look(){ 
         var desc = "";
         switch(currLoc) {
            case 0: desc = "You are back in the space station.";
                    break;
            case 1: desc = "You have traveled to an unknown planet of ice. You get out of the space ship only to discover that the planet is uninhabitable.";
                    break;
            case 2: desc = "You have treked to an unexplored planet covered in water. There seems to be no intelligent life here, only creatures interested in you and your ship. Sadly their curiosity is harmful, leave before any damage occurs!";
                    break;
            case 3: desc = "You have voyaged to an unkown planet of fire. The beings on this planet are dangerous and angry, get out quick! Before they ignite you and your spaceship. ";
                    break;
            case 4: desc = "You have traveled to the jungle planet of Pluvia Silva. The people there are friendly and offer for you to stay there forever...";
                    break;
            case 5: desc = "You have soared to the planet of nebulous. This planet is known for having little to no land mass, only clouds of diffenrent structures. Sadly you cannot land your ship and must move on.";
                    break;
            default: desc = "This part of space is not yet explorable.";
         }
         completeScore();
         dispmsg(desc);
      }


      function navigationError(){
         dispmsg("This part of space is not yet explorable.");
      }

      function completeScore(){
         var targetScoreArea = document.getElementById("scoreArea");
         targetScoreArea.value = score;
         if ((! visited_0) && (currLoc === 0)){
             score = score + 5;
             visited_0 = true;
         } else if ((! visited_1) && (currLoc === 1)) {
             score = score + 5;
             visited_1 = true;
         } else if ((! visited_2) && (currLoc === 2)) {
             score = score + 5;
             visited_2 = true;
         } else if ((! visited_3) && (currLoc === 3)) {
             score = score + 5;
             visited_3 = true;
         } else if ((! visited_4) && (currLoc === 4)) {
             score = score + 5;
             visited_4 = true;
         } else if ((! visited_5) && (currLoc ===5)) {
             score = score + 5;
             visited_5 = true;
         }
      }

      //Utility functions
      function dispmsg(msg){
         var target = document.getElementById("taMain");
         target.value = msg +"\n\n" + target.value;
      }  

   </script>
   </head>
   <body>
       <p class="title">
          Space: The Final Frontier
       </p>
       <br>
       <textarea rows="20" cols="60" id="taMain">You are in a space station ready to explore the cosmos, where would you like to go?</textarea>
       
       <br>
       <br>
       <input type="text"
              id = "txtCommand"
              name="txtCommand">
       
       <input type="button"
              value="Go"
              onclick="btnGo_click();" />

       <br>
       <br>
       <input type="button" 
              value="North"
              onclick="goNorth();" />
  
       <input type="button"
              value="South"
              onclick="goSouth()" />
       
       <input type="button"
              value="East"
              onclick="goEast()" />

       <input type="button"
              value="West"
              onclick="goWest()" />

       <br>
       <br>
       Score:
       <textarea rows="1" cols="5" id="scoreArea"></textarea>

       <br>
       <br>
       <a href="mailto:eleanor.downie1@marist.edu">Email Me Here!</a>
                
   </body>
</html>